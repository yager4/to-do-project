(this["webpackJsonpto-do-project"]=this["webpackJsonpto-do-project"]||[]).push([[0],{158:function(t,e,o){t.exports=o(289)},167:function(t,e,o){},170:function(t,e,o){},289:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),r=o(32),i=o.n(r),d=o(30),s=o(36),c=o(141),u=o(28),l={todos:[]};o(167);var p=o(148),f=o(42),h=(o(168),o(169),o(170),o(16)),m=o(107),v=o(34),b=o(18),D=o(20),O=o(21),g=o(22),E=o(29),x=o(23),T=o(33),y=o.n(T),j=o(25),I=o.n(j),k=o(43),w={getRandomID:function(){for(var t="1234567890poiiytreqwasdfghjklmnbvcxxssersgyushquiz",e="",o=0;o<10;o++){var n=Math.floor(Math.random()*t.length);e+=t[n]}return e},getFormattedDate:function(){return(new Date).toLocaleDateString("en-US")},getFormattedTime:function(){var t=new Date,e=t.getHours(),o=t.getMinutes(),n=e>=12?"pm":"am";return(e=(e%=12)||12)+":"+(o=o<10?"0"+o:o)+" "+n}};var _=[{day:"Sunday",_id:w.getRandomID(),toDos:[]},{day:"Monday",_id:w.getRandomID(),toDos:[]},{day:"Tuesday",_id:w.getRandomID(),toDos:[]},{day:"Wednesday",_id:w.getRandomID(),toDos:[]},{day:"Thursday",_id:w.getRandomID(),toDos:[]},{day:"Friday",_id:w.getRandomID(),toDos:[]},{day:"Saturday",_id:w.getRandomID(),toDos:[]}];var S={store:function(t,e){localStorage[t]=JSON.stringify(e)},load:function(t){var e=localStorage[t]||"null";return JSON.parse(e)}},C=function t(e){Object(b.a)(this,t),this.txt=e,this.isDone=!1,this.txtId=w.getRandomID()},M={getTodos:function(t){if(""===t)return Promise.resolve(Object(v.a)(N));return N.filter((function(e){return e.toDos.some((function(e){return e.txt.toLowerCase().includes(t.toLowerCase())}))}))},editTodo:function(t){return R.apply(this,arguments)},deleteTodo:function(t,e){var o=Object(v.a)(N.filter((function(e){return e._id===t})))[0],n=N.findIndex((function(e){return e._id===t})),a=o.toDos.findIndex((function(t){return t.txtId===e})),r=y()(o,{toDos:{$splice:[[a,1]]}});return N=y()(N,Object(h.a)({},n,{$set:r})),S.store("todos",N),!0},getTodoById:function(t){var e=N.find((function(e){return e._id===t}));return Promise.resolve(e)},dragAndDropSave:function(t){N=Object(v.a)(t),S.store("todos",N)},addTodo:function(t,e){return A.apply(this,arguments)}},N=S.load("todos")||_;function R(){return(R=Object(k.a)(I.a.mark((function t(e){var o,n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,N.findIndex((function(t){return t._id===e._id}));case 3:o=t.sent,n=y()(N,Object(h.a)({},o,{$set:e})),N=Object(v.a)(n),S.store("todos",N);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=Object(k.a)(I.a.mark((function t(e,o){var n,a,r,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.a)({},N.find((function(t){return t._id===o})));case 2:return n=t.sent,a=N.findIndex((function(t){return t._id===o})),r=new C(e),i=y()(n,{toDos:{$push:[r]}}),N=y()(N,Object(h.a)({},a,{$set:i})),S.store("todos",N),t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(function(){var e=Object(k.a)(I.a.mark((function e(o){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.getTodos(t);case 3:n=e.sent,o($(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("TodoActions: err in loadTodo",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}function $(t){return{type:"GET_TODOS",todos:t}}function z(t){return function(){var e=Object(k.a)(I.a.mark((function e(o){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(t),M.editTodo(t)}catch(o){console.log("onEdit: err in updateTodo",o)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var L=o(59),F=o(72),B=o.n(F),J=o(290),U=o(46),G=function(t){function e(){var t,o;Object(b.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(O.a)(this,(t=Object(g.a)(e)).call.apply(t,[this].concat(a)))).state={toDo:{},index:""},o.handlerChange=function(t){var e=t.target.value;o.setState((function(t){return Object(u.a)({},t,{toDo:Object(u.a)({},t.toDo,{txt:e})})}))},o}return Object(x.a)(e,t),Object(D.a)(e,[{key:"componentDidMount",value:function(){var t=this.props;t.toDo!==this.state.toDo&&(this.setState({toDo:t.toDo}),this.setState({index:t.index}))}},{key:"render",value:function(){var t=this.state,e=this.props;return e.toDo?a.a.createElement("div",{style:{border:0},className:"toDoList-contaner"},a.a.createElement("textarea",{name:t.toDo.txtId,type:"text",className:"txt-container",value:e.toDo.txt,onChange:this.props.handlerChange,style:{width:e.txtLength}}),a.a.createElement(B.a,{onClick:function(){return e.removeTodo(e.todoParentId,t.toDo.txtId)},className:"fas fa-trash",name:"fas fa-trash",size:"2x",style:{textShadow:"0 1px 0 rgba(0, 0, 0, 0.1)",fontSize:"30px"}})):a.a.createElement("div",null)}}]),e}(n.Component),W=function(t){function e(){var t,o;Object(b.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(O.a)(this,(t=Object(g.a)(e)).call.apply(t,[this].concat(a)))).state={todo:{},isOnEdit:!1},o.handlerChange=function(t){var e=o.state.todo,n=t.target.value,a=t.target.name,r=e.toDos.findIndex((function(t){return t.txtId===a})),i=y()(o.state.todo,{toDos:Object(h.a)({},r,{txt:{$set:n}})});o.setState({todo:i})},o.onEdit=function(){var t=o.state.todo,e=Object(E.a)(o),n=e.props,a=(e.state,Object(v.a)(t.toDos.filter((function(t){return""!==t.txt})))),r=y()(t,{toDos:{$set:a}});n.updateTodo(r).then((function(){n.becomeEditable(),n.loadTodos()}))},o}return Object(x.a)(e,t),Object(D.a)(e,[{key:"componentDidMount",value:function(){var t=this.props;this.setState({todo:t.toDos})}},{key:"componentDidUpdate",value:function(t){var e=this.props;t.toDos!==e.toDos&&this.setState({todo:e.toDos})}},{key:"render",value:function(){var t=this,e=this.state,o=this.props;return Object.entries(this.state.todo).length?a.a.createElement("div",{className:"preview-container"},a.a.createElement("h1",null,e.todo.day),a.a.createElement("div",null,e.todo.toDos.map((function(n,r){return a.a.createElement(G,{todoParentId:e.todo._id,removeTodo:o.removeTodo,handlerChange:t.handlerChange,index:r,onEdit:t.onEdit,key:n.txtId,toDo:n,isOnEdit:e.isOnEdit})}))),a.a.createElement(J.a,{onClick:this.onEdit,animated:"vertical"},a.a.createElement(J.a.Content,{hidden:!0},"save"),a.a.createElement(J.a.Content,{visible:!0},a.a.createElement(U.a,{name:"save",size:"big"})))):a.a.createElement("div",null," ")}}]),e}(n.Component),q={updateTodo:z,loadTodos:P},H=Object(s.b)((function(){return{}}),q)(W),X=function(t){function e(){var t,o;Object(b.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(O.a)(this,(t=Object(g.a)(e)).call.apply(t,[this].concat(a)))).state={txt:"",todoId:""},o.handleOnChange=function(t){var e=t.target.value;o.setState({txt:e})},o}return Object(x.a)(e,t),Object(D.a)(e,[{key:"componentDidMount",value:function(){var t=this.props;this.setState({todoId:t.todoId})}},{key:"render",value:function(){var t=this,e=this.props,o=this.state;return a.a.createElement("div",{className:"addTodo-container"},a.a.createElement("textarea",{value:this.state.txt,onChange:this.handleOnChange}),a.a.createElement("div",null,a.a.createElement(J.a,{onClick:function(){t.setState({txt:""}),e.addTodo(o.txt,o.todoId)},animated:"vertical"},a.a.createElement(J.a.Content,{hidden:!0},"save"),a.a.createElement(J.a.Content,{visible:!0},a.a.createElement(U.a,{name:"save",size:"big"})))))}}]),e}(n.Component),V=function(t){function e(){var t,o;Object(b.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(O.a)(this,(t=Object(g.a)(e)).call.apply(t,[this].concat(a)))).state={isEdit:!1,numberOfAdd:!0},o.becomeEditable=function(){o.setState((function(t){return{isEdit:!t.isEdit}}))},o}return Object(x.a)(e,t),Object(D.a)(e,[{key:"componentDidMount",value:function(){var t=this.props;this.setState({toDos:t.toDos})}},{key:"componentDidUpdate",value:function(){0===this.props.todo.toDos.length&&this.state.isEdit&&this.setState({isEdit:!1})}},{key:"render",value:function(){var t=this.props,e=this.state,o=this.state.isEdit;return a.a.createElement("div",null,o?a.a.createElement(H,{removeTodo:t.removeTodo,toDos:t.todo,becomeEditable:this.becomeEditable}):a.a.createElement("div",{className:"preview-container"},a.a.createElement(B.a,{onClick:this.becomeEditable,className:"super-crazy-colors",name:"fas fa-edit",size:"2x",style:{textShadow:"0 1px 0 rgba(0, 0, 0, 0.1)",fontSize:"30px"}}),a.a.createElement("h1",null,t.todo.day),a.a.createElement(L.c,{droppableId:t.todo._id,key:t.todo._id},(function(o,n){return a.a.createElement("div",Object.assign({ref:o.innerRef},o.droppableProps),t.todo.toDos.map((function(e,o){return a.a.createElement(L.b,{key:e.txtId,draggableId:e.txtId,index:o},(function(o,n){return a.a.createElement("div",Object.assign({ref:o.innerRef},o.draggableProps,o.dragHandleProps,{className:"toDoList-contaner",style:Object(u.a)({userSelect:"none"},o.draggableProps.style)}),a.a.createElement("h2",{onClick:function(){return t.handlerMarkTodoTxt(t.todo._id,e)},style:{textDecoration:e.isDone?"line-through":""}},e.txt))}))})),o.placeholder,e.numberOfAdd?a.a.createElement(X,{addTodo:t.addTodo,todoId:t.todo._id}):"")}))))}}]),e}(n.Component);var K=function(t){return t.todos[1],a.a.createElement("div",{className:"list-container"},a.a.createElement(L.a,{onDragEnd:function(e){return t.onDragEnd(e)}},t.todos.map((function(e,o){return a.a.createElement(V,{removeTodo:t.removeTodo,addTodo:t.addTodo,onDragEnd:t.onDragEnd,key:e._id,todo:e,index:o,handlerMarkTodoTxt:t.handlerMarkTodoTxt})}))))},Q=o(297);function Y(t){return a.a.createElement("div",{className:"filter-container"},a.a.createElement(Q.a,{onChange:function(e){return t.handleFilter(e.target.value)},placeholder:"Search..."}))}var Z=function(t){function e(){var t,o;Object(b.a)(this,e);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(O.a)(this,(t=Object(g.a)(e)).call.apply(t,[this].concat(a)))).state={filterBy:""},o.onDragEnd=function(t){if(t.destination){var e=Object(u.a)({},t),n=Object(v.a)(o.props.todos),a=e.source,r=e.destination;if(a.droppableId!==r.droppableId){var i=n.find((function(t){return t._id===a.droppableId})),d=n.find((function(t){return t._id===r.droppableId})),s=i.toDos.splice(a.index,1),c=Object(m.a)(s,1)[0];d.toDos.splice(r.index,0,c)}else{var l=n.find((function(t){return t._id===a.droppableId})),p=Object(v.a)(l.toDos),f=p.splice(a.index,1),h=Object(m.a)(f,1)[0];p.splice(r.index,0,h),l.toDos=p}M.dragAndDropSave(n)}},o.handlerMarkTodoTxt=function(t,e){var n=Object(E.a)(o).props,a=Object(v.a)(o.props.todos).find((function(e){return e._id===t})),r=a.toDos.findIndex((function(t){return t.txtId===e.txtId})),i=y()(a,{toDos:Object(h.a)({},r,{isDone:{$set:!a.toDos[r].isDone}})});o.props.updateTodo(i).then((function(){n.loadTodos()}))},o.addTodo=function(t,e){var n=Object(E.a)(o).props;M.addTodo(t,e).then((function(){n.loadTodos()}))},o.removeTodo=function(t,e){var n=Object(E.a)(o).props;n.removeTodo(t,e).then((function(){n.loadTodos()}))},o.handleFilter=function(t){o.props.loadTodos(t)},o}return Object(x.a)(e,t),Object(D.a)(e,[{key:"componentDidMount",value:function(){this.props.loadTodos()}},{key:"render",value:function(){return this.props.todos?a.a.createElement("div",{className:"container"},a.a.createElement(Y,{handleFilter:this.handleFilter}),a.a.createElement(K,{removeTodo:this.removeTodo,addTodo:this.addTodo,handlerMarkTodoTxt:this.handlerMarkTodoTxt,onDragEnd:this.onDragEnd,todos:this.props.todos})):a.a.createElement("div",null,"Loadong........")}}]),e}(n.Component),tt={loadTodos:P,updateTodo:z,removeTodo:function(t,e){return Object(k.a)(I.a.mark((function o(){return I.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:try{M.deleteTodo(t,e)}catch(n){console.log("deleteTodo: err in removeTodo",n)}case 1:case"end":return o.stop()}}),o)})))}},et=Object(s.b)((function(t){return{todos:t.todos}}),tt)(Z);var ot=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(p.a,null,a.a.createElement(f.c,null,a.a.createElement(f.a,{component:et,path:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,at=Object(d.d)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case"GET_TODOS":return Object(u.a)({},t,{todos:e.todos});case"GET_TODO":return Object(u.a)({},t,{toDos:e.toDos});default:return t}}),nt(Object(d.a)(c.a)));i.a.render(a.a.createElement(s.a,{store:at},a.a.createElement(ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[158,1,2]]]);
//# sourceMappingURL=main.9b9e06ae.chunk.js.map